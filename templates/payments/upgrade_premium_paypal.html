{% extends 'base.html' %}

{% block title %}Upgrade to Premium with PayPal - EyeHealth 20-20-20{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="text-center mb-5">
                <h1 class="display-5 fw-bold mb-3">
                    <i class="fas fa-crown text-warning me-2"></i>
                    Upgrade to Premium
                </h1>
                <p class="lead text-muted">
                    Unlock advanced eye health features for just $0.99/month
                </p>
            </div>
            
            <!-- Premium Features -->
            <div class="card border-warning shadow-lg mb-4">
                <div class="card-header bg-warning text-dark text-center py-3">
                    <h3 class="mb-0">Premium Features Included</h3>
                </div>
                <div class="card-body p-4">
                    <div class="row">
                        <div class="col-md-6">
                            <ul class="list-unstyled">
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Unlimited sessions</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Smart timer customization (5 presets)</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Advanced analytics dashboard</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Guided eye exercises (6 types)</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Custom themes (8 options)</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <ul class="list-unstyled">
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Email health reports</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Achievement badges & streaks</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Data export (CSV/PDF)</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Calendar integration</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Priority support</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Pricing -->
            <div class="text-center mb-4">
                <div class="pricing-card p-4 bg-light rounded">
                    <div class="display-4 fw-bold text-warning">$0.99</div>
                    <div class="text-muted">per month</div>
                    <div class="mt-2">
                        <small class="text-success">
                            <i class="fas fa-shield-alt me-1"></i>
                            Cancel anytime • Secure payment by PayPal
                        </small>
                    </div>
                </div>
            </div>
            
            <!-- PayPal Payment Form -->
            <div class="text-center">
                <form action="{{ paypal_action_url }}" method="post" class="d-inline-block">
                    {% for key, value in paypal_dict.items %}
                        <input type="hidden" name="{{ key }}" value="{{ value }}">
                    {% endfor %}
                    
                    <button type="submit" class="btn btn-primary btn-lg px-5 py-3">
                        <i class="fab fa-paypal me-2"></i>
                        Subscribe with PayPal
                    </button>
                </form>
                
                <div class="mt-3">
                    <p class="text-muted small">
                        <i class="fas fa-lock me-1"></i>
                        Secure payment powered by PayPal • No PayPal account required
                    </p>
                </div>
            </div>
            
            <!-- Trust Indicators -->
            <div class="row mt-5 text-center">
                <div class="col-md-4">
                    <div class="p-3">
                        <i class="fas fa-user-shield text-primary mb-2" style="font-size: 2rem;"></i>
                        <h6>Secure & Private</h6>
                        <small class="text-muted">Your payment data is encrypted and protected</small>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="p-3">
                        <i class="fas fa-clock text-primary mb-2" style="font-size: 2rem;"></i>
                        <h6>Instant Access</h6>
                        <small class="text-muted">Premium features activate immediately</small>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="p-3">
                        <i class="fas fa-undo text-primary mb-2" style="font-size: 2rem;"></i>
                        <h6>Cancel Anytime</h6>
                        <small class="text-muted">No contracts or hidden fees</small>
                    </div>
                </div>
            </div>
            
            <!-- PayPal Benefits -->
            <div class="text-center mt-4">
                <h6 class="text-muted mb-3">Why PayPal?</h6>
                <div class="row">
                    <div class="col-md-4">
                        <div class="p-3">
                            <i class="fas fa-credit-card text-info mb-2" style="font-size: 1.5rem;"></i>
                            <p class="small mb-0">Pay with any card or PayPal balance</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="p-3">
                            <i class="fas fa-shield-check text-success mb-2" style="font-size: 1.5rem;"></i>
                            <p class="small mb-0">PayPal Buyer Protection included</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="p-3">
                            <i class="fas fa-globe text-warning mb-2" style="font-size: 1.5rem;"></i>
                            <p class="small mb-0">Available in 200+ countries</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- FAQ -->
            <div class="mt-5">
                <h4 class="text-center mb-4">Frequently Asked Questions</h4>
                <div class="accordion" id="faqAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="faq1">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1">
                                Do I need a PayPal account?
                            </button>
                        </h2>
                        <div id="collapse1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                No! You can pay with any credit or debit card through PayPal without creating an account. PayPal also accepts payments from existing PayPal accounts and balances.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="faq2">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2">
                                When will I be charged?
                            </button>
                        </h2>
                        <div id="collapse2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                You'll be charged $0.99 immediately, then monthly on the same date. You can cancel anytime before your next billing cycle through your PayPal account.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="faq3">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3">
                                How do I cancel my subscription?
                            </button>
                        </h2>
                        <div id="collapse3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                You can cancel anytime by logging into your PayPal account and managing your subscriptions, or by contacting our support team. Your premium features will remain active until the end of your billing period.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Alternative payment method -->
            <div class="text-center mt-5 p-4 bg-light rounded">
                <h6 class="mb-3">Prefer to pay with credit/debit card directly?</h6>
                <a href="{% url 'payments:upgrade_premium' %}" class="btn btn-outline-warning">
                    <i class="fas fa-credit-card me-2"></i>Use Stripe Instead
                </a>
            </div>
            
            <div class="text-center mt-4">
                <a href="{% url 'accounts:pricing' %}" class="btn btn-outline-secondary">
                    <i class="fas fa-arrow-left me-2"></i>Back to Pricing
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
    .pricing-card {
        border: 2px solid #ffc107;
        background: linear-gradient(135deg, #fff8e1, #ffffff);
    }
    
    .accordion-button:not(.collapsed) {
        background-color: #fff3cd;
        color: #856404;
    }
    
    .trust-indicator:hover {
        transform: translateY(-2px);
        transition: transform 0.2s ease;
    }
</style>
{% endblock %}